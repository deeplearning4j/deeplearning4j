---
title:Output Interpretation
layout: default
---

# ニューラルネットワークの出力結果の解釈

ニューラルネットワークの出力は解釈が難しいこともあります。自分のモデルがどれだけ正確であるか、または出力された数字が何を意味するのか、などが気になるところでしょう。それだけでなく、ニューラルネットワークはその種類によって出力の種類も異なるのです。 

例えば、制限付きボルツマン・マシンを使用した教師なしの学習やネットワークの変分オートエンコーダーは入力を復元することを学習します。これらのネットワークは画像に基づいて検討するのが最適です。復元を解釈するのに最適な方法は、データにノイズを入れた後にニューラルネットワークへの入力画像がどのぐらい正確に復元されるかを調べることです。 

MNISTのチュートリアルに従って、性能を測定するには、最初の画像とネットワークが出力した画像を並べて比較するのが最適です。

その他の種類に多層ネットワークもあります。多層ネットワークはラベル付与を行う識別分類器です。 

機械学習では、分類器の性能を決定する測定法はF1値と呼ばれています。F1値は0と1の間の数字で、トレーニング中のネットワークの性能を表します。これはパーセンテージに似ていて、1が予測率100パーセントに当たります。

DL4Jには、F1値を出力する[評価（Evaluation）](./doc/org/deeplearning4j/eval/Evaluation.html)クラスがあります。 評価クラスは偽陽性や偽陰性の確率、混同行列などを印刷することもできます。 

各ラベルが1行10列の2値行列で、各列は1から10までの数字を表しているとしましょう。（実際は、可能な出力数またはラベル数によって列数が異なります。）この行列には数字の「1」は一回しか使ってはならず、そのラベルの表す数字の列に割り当てられます。例えば、[0 1 0 0 0 0 0 0 0 0]は「2」を表しています。 
その後、各ラベルにどの程度正確に入力を復元しているかの可能性が割り当てられます。これらの確率がネットワークの推測に当たります。テストの終わりに、最も可能性の高いラベルと実際の入力の数字を比較します。これらの比較を集計したものが正答率、あるいはF1値です。 

実際に、ネットワークには入力をいくつでも同時に行うことができます。1入力が2値行列の1行に当たります。そして、入力された2値行列の行数は出力された2値行列の行数と同じになります。

評価クラスをトレーニングの最後で頻繁に使用し、正答率を検証します。 

```
Evaluation eval = new Evaluation(3);
        INDArray output = model.output(testData.getFeatureMatrix());
        eval.eval(testData.getLabels(), output);
        log.info(eval.stats());

```







